<?xml version="1.0"?>
<!DOCTYPE refentry PUBLIC "-//OASIS/DTD DocBook XML V4.2//EN"
	"http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd">

<refentry id="network-zone-bridge">
	<refentryinfo>
		<title>network-zone-bridge</title>
		<productname>network</productname>

		<authorgroup>
			<author>
				<contrib>Developer</contrib>
				<firstname>Michael</firstname>
				<surname>Tremer</surname>
				<email>michael.tremer@ipfire.org</email>
			</author>
		</authorgroup>
	</refentryinfo>

	<refmeta>
		<refentrytitle>network-zone-bridge</refentrytitle>
		<manvolnum>8</manvolnum>
	</refmeta>

	<refnamediv>
		<refname>network-zone-bridge</refname>
		<refpurpose>Network Configuration Control Program</refpurpose>
	</refnamediv>

	<refsynopsisdiv>
		<cmdsynopsis>
			<command>network zone new <replaceable>ZONE</replaceable> bridge ...</command>
		</cmdsynopsis>

		<cmdsynopsis>
			<command>network zone <replaceable>ZONE</replaceable> edit ...</command>
		</cmdsynopsis>
	</refsynopsisdiv>

	<refsect1>
		<title>Description</title>

		<para>
			The bridge hook creates an ethernet bridge which acts as an unmanaged network
			switch. It contains one or multiple phyisical network interfaces or virtual
			devices which will be connected to each other.
		</para>
		<para>
			The bridge hook is the prefered hook for local area network zones which are
			connected to an ethernet network.
		</para>
	</refsect1>

	<refsect1>
		<title>Options</title>

		<para>
			The following options are understood:
		</para>

		<variablelist>
			<varlistentry>
				<term>
					<option>--stp=[<emphasis>on</emphasis>|off]</option>
				</term>

				<listitem>
					<para>
						This option enables or disable the use of the
						<emphasis>Spanning Tree Protocol</emphasis> (STP).
						This protocol is used to avoid loops in networks by
						dynamically disabling packet forwarding on links.
					</para>
					<para>
						It is highly recommended to leave this option enabled
						when you add more than one device to the zone.
						Read below how the behaviour of STP can be changed.
					</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>
					<option>--mtu=<replaceable>MTU</replaceable></option>
				</term>

				<listitem>
					<para>
						Sets the default MTU of the bridge.
						All ports in the bridge must support this MTU value.
					</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>
					<option>--address=<replaceable>ADDRESS</replaceable></option>
				</term>

				<listitem>
					<para>
						By this option, you may define the MAC address of the
						bridge. If this option is missing, a random MAC address
						will be generated.
					</para>
				</listitem>
			</varlistentry>
		</variablelist>

		<para>
			Spanning Tree Protocol configuration options:
		</para>

		<variablelist>
			<varlistentry>
				<term>
					<option>--stp-mode=[<emphasis>rstp</emphasis>|stp]</option>
				</term>

				<listitem>
					<para>
						When STP is enabled, this option will set the operational
						mode which can either be:
					</para>
					<itemizedlist>
						<listitem>
							<para>
								<emphasis>Spanning Tree Protocol IEEE 802.1D</emphasis>
								(stp) was introduced in 1998 by Radia Perlman.
							</para>
						</listitem>
						<listitem>
							<para>
								<emphasis>Rapid Spanning Tree Protocol IEEE 802.1W</emphasis>
								(rstp) which has much faster convergence times and was
								introduced in 2004. This is the default option.
							</para>
						</listitem>
					</itemizedlist>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>
					<option>--stp-forward-delay=<replaceable>0</replaceable></option>
				</term>

				<listitem>
					<para>
						This sets the default time the interfaces are hold off
						after they have been added to a bridge.
						The default value is 0.
					</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>
					<option>--stp-hello=<replaceable>2</replaceable></option>
				</term>

				<listitem>
					<para>
						This option defines how often a hello message should be
						sent. The value is given in seconds and the default is 2.
					</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>
					<option>--stp-priority=<replaceable>512</replaceable></option>
				</term>

				<listitem>
					<para>
						The STP priority sets the ranking of this network device
						within the network. The bridge with the best rank
						(0 is best) will become the root bridge.
					</para>
				</listitem>
			</varlistentry>
		</variablelist>
	</refsect1>

	<refsect1>
		<title>See Also</title>

		<para>
			<citerefentry>
				<refentrytitle>network</refentrytitle>
				<manvolnum>8</manvolnum>
			</citerefentry>,
			<citerefentry>
				<refentrytitle>network-zone</refentrytitle>
				<manvolnum>8</manvolnum>
			</citerefentry>
		</para>
	</refsect1>
</refentry>

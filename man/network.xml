<?xml version="1.0"?>
<!DOCTYPE refentry PUBLIC "-//OASIS/DTD DocBook XML V4.2//EN"
	"http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd">

<refentry id="network">
	<refentryinfo>
		<title>network</title>
		<productname>network</productname>

		<authorgroup>
			<author>
				<contrib>Developer</contrib>
				<firstname>Michael</firstname>
				<surname>Tremer</surname>
				<email>michael.tremer@ipfire.org</email>
			</author>
		</authorgroup>
	</refentryinfo>

	<refmeta>
		<refentrytitle>network</refentrytitle>
		<manvolnum>8</manvolnum>
	</refmeta>

	<refnamediv>
		<refname>network</refname>
		<refpurpose>Network Configuration Control Program</refpurpose>
	</refnamediv>

	<refsynopsisdiv>
		<cmdsynopsis>
			<command>network</command>
			<arg choice="opt" rep="repeat">OPTIONS</arg>
			<arg choice="plain">COMMAND</arg>
		</cmdsynopsis>
	</refsynopsisdiv>

	<refsect1>
		<title>Description</title>

		<para>
			The <command>network</command> command is a tool which configures
			the network on every IPFire system. It is a fast and versatile
			way to create, edit and remove configurations, review the status
			of the network and it is working in the background of the system
			making sure that things are running smoothly.
		</para>
	</refsect1>

	<refsect1>
		<title>Options</title>

		<para>
			The following options are understood:
		</para>

		<variablelist>
			<varlistentry>
				<term>
					<option>-d</option>
				</term>
				<term>
					<option>--debug</option>
				</term>

				<listitem>
					<para>
						Enables the debugging mode.
						In this mode, there will be debug output on
						the console and written to the log.
					</para>
					<para>
						The debugging mode can be permanently enabled by setting
						<varname>DEBUG=1</varname>
					</para>
				</listitem>
			</varlistentry>
		</variablelist>
	</refsect1>

	<refsect1>
		<title>Commands</title>

		<para>
			The following commands are understood:
		</para>

		<variablelist>
			<varlistentry>
				<term>
					<command>start <replaceable>ZONE-NAME</replaceable>...</command>
				</term>

				<listitem>
					<para>
						Starts a zone. That means the network zone will be created
						and brought up.
						If one or more zone names are passed to the command, only
						these will be started.
					</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>
					<command>stop <replaceable>ZONE-NAME</replaceable>...</command>
				</term>

				<listitem>
					<para>
						Stops a zone. This is the inverse of the <command>start</command>
						command.
					</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>
					<command>restart <replaceable>ZONE-NAME</replaceable>...</command>
				</term>

				<listitem>
					<para>
						Restarts a zone.
					</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>
					<command>status <replaceable>ZONE-NAME</replaceable>...</command>
				</term>

				<listitem>
					<para>
						Shows a human-readable overview of the status
						of the network zone.
					</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>
					<command>zone ...</command>
				</term>

				<listitem>
					<para>
						Configure a zone or show status information.
						See <citerefentry>
							<refentrytitle>network-zone</refentrytitle>
							<manvolnum>8</manvolnum>
						</citerefentry> for details.
					</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>
					<command>port ...</command>
				</term>

				<listitem>
					<para>
						Configure a port or show status information.
						See <citerefentry>
							<refentrytitle>network-port</refentrytitle>
							<manvolnum>8</manvolnum>
						</citerefentry> for details.
					</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>
					<command>device ...</command>
				</term>

				<listitem>
					<para>
						Show status information about network devices.
						See <citerefentry>
							<refentrytitle>network-device</refentrytitle>
							<manvolnum>8</manvolnum>
						</citerefentry> for details.
					</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>
					<command>config <replaceable><varname>KEY=VALUE</varname></replaceable></command>
				</term>

				<listitem>
					<para>
						Shows and alters global configuration parameters.
						See <citerefentry>
							<refentrytitle>network-settings</refentrytitle>
							<manvolnum>8</manvolnum>
						</citerefentry> for details.
					</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>
					<command>help [<replaceable>TYPE</replaceable> <replaceable>HOOK</replaceable>]</command>
				</term>

				<listitem>
					<para>
						Calling <command>network help</command> without any
						arguments will show you this man page.
					</para>
					<para>
						You may optionally pass two arguments, to view the help
						of a certain hook.
						The type of the hook <replaceable>TYPE</replaceable>
						needs to be passed as well as the name of the hook
						<replaceable>HOOK</replaceable>.
					</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>
					<command>hostname <replaceable>HOSTNAME</replaceable></command>
				</term>

				<listitem>
					<para>
						The <command>hostname</command> command will return the
						currently configured hostname of the system.
					</para>
					<para>
						If a new hostname is added to the command line,
						it will be configured, but will be set after the next
						reboot.
					</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>
					<command>dns-server ...</command>
				</term>

				<listitem>
					<para>
						The <command>dns-server</command> command will help you
						configuring the local DNS servers.
						See <citerefentry>
							<refentrytitle>network-dns-server</refentrytitle>
							<manvolnum>8</manvolnum>
						</citerefentry> for details.
					</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>
					<command>route ...</command>
				</term>

				<listitem>
					<para>
						The <command>route</command> command allows managing static routes.
						See <citerefentry>
							<refentrytitle>network-route</refentrytitle>
							<manvolnum>8</manvolnum>
						</citerefentry> for details.
					</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>
					<command>reset</command>
				</term>

				<listitem>
					<para>
						The <command>reset</command> command will reset all
						network configuration. That means all zone configurations
						will be removed and there will be no networking after the
						next reboot.
					</para>
				</listitem>
			</varlistentry>
		</variablelist>
	</refsect1>

	<refsect1>
		<title>Exit Codes</title>

		<para>
			The <command>network</command> command will normally exit with code 0.
			If there has been a problem and the requested action could not be done,
			the exit code is unequal to zero.
		</para>
	</refsect1>

	<refsect1>
		<title>Bugs</title>

		<para>
			Please report all bugs to the official bugtracker at
			http://bugs.ipfire.org/.
		</para>
	</refsect1>

	<refsect1>
		<title>See Also</title>

		<para>
			<citerefentry>
				<refentrytitle>network-settings</refentrytitle>
				<manvolnum>8</manvolnum>
			</citerefentry>,
			<citerefentry>
				<refentrytitle>network-device</refentrytitle>
				<manvolnum>8</manvolnum>
			</citerefentry>,
			<citerefentry>
				<refentrytitle>network-dns-server</refentrytitle>
				<manvolnum>8</manvolnum>
			</citerefentry>,
			<citerefentry>
				<refentrytitle>network-port</refentrytitle>
				<manvolnum>8</manvolnum>
			</citerefentry>,
			<citerefentry>
				<refentrytitle>network-zone</refentrytitle>
				<manvolnum>8</manvolnum>
			</citerefentry>
		</para>
	</refsect1>
</refentry>

<?xml version="1.0"?>
<!DOCTYPE refentry PUBLIC "-//OASIS/DTD DocBook XML V4.2//EN"
	"http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd">

<refentry id="network-dns-server">
	<refentryinfo>
		<title>network-dns-server</title>
		<productname>network</productname>

		<authorgroup>
			<author>
				<contrib>Developer</contrib>
				<firstname>Michael</firstname>
				<surname>Tremer</surname>
				<email>michael.tremer@ipfire.org</email>
			</author>
		</authorgroup>
	</refentryinfo>

	<refmeta>
		<refentrytitle>network-dns-server</refentrytitle>
		<manvolnum>8</manvolnum>
	</refmeta>

	<refnamediv>
		<refname>network-dns-server</refname>
		<refpurpose>Network Configuration Control Program</refpurpose>
	</refnamediv>

	<refsynopsisdiv>
		<cmdsynopsis>
			<command>network dns-server <arg choice="plain">[add|remove]</arg> <arg choice="plain">SERVER</arg> [<arg choice="plain">PRIORITY</arg>]</command>
		</cmdsynopsis>

		<cmdsynopsis>
			<command>network dns-server <arg choice="plain">[list|update]</arg></command>
		</cmdsynopsis>
	</refsynopsisdiv>

	<refsect1>
		<title>Description</title>

		<para>
			With help of the <command>dns-server</command> subcommand, you will
			be able to configure the local DNS configuration.
			DNS is short for Domain Name System.
		</para>
		<para>
			You may add and remove DNS servers as well as view the settings.
		</para>
	</refsect1>

	<refsect1>
		<title>Commands</title>

		<para>
			The following commands are understood:
		</para>

		<variablelist>
			<varlistentry>
				<term>
					<command>
						add
						<replaceable>SERVER</replaceable>
						[<replaceable>PRIORITY</replaceable>]
					</command>
				</term>

				<listitem>
					<para>
						A new DNS server may be added to the list by the
						<command>add</command> command. A priority that will
						rank the server my optionally be given.
					</para>
					<para>
						<replaceable>SERVER</replaceable> must be a valid IP address
						and <replaceable>PRIORITY</replaceable> must be a positive
						integer number. The smaller this number, the higher is
						is the rank of the server.
					</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>
					<command>
						remove
						<replaceable>SERVER</replaceable>
					</command>
				</term>

				<listitem>
					<para>
						The given server will be removed from the list of
						DNS servers.
					</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>
					<command>list</command>
				</term>

				<listitem>
					<para>
						Shows a list of all servers that are currently in use.
					</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>
					<command>update</command>
				</term>

				<listitem>
					<para>
						This command will re-create the system's configuration
						files. It should not be required to use this command
						very often.
					</para>
				</listitem>
			</varlistentry>
		</variablelist>
	</refsect1>

	<refsect1>
		<title>Variables</title>

		<para>
			These variables may be set by using the <citerefentry>
				<refentrytitle>network-settings</refentrytitle>
				<manvolnum>8</manvolnum>
			</citerefentry> command.
		</para>

		<variablelist>
			<varlistentry>
				<term>
					<varname>DNS_USE_LOCAL_RESOLVER</varname>=[<emphasis>true</emphasis>|false]
				</term>

				<listitem>
					<para>
						This option defines whether the local DNS resolver should
						be used or not.
					</para>
					<para>
						Basically, the option adds localhost to the list of
						nameservers in <citerefentry>
							<refentrytitle>resolv.conf</refentrytitle>
							<manvolnum>5</manvolnum>
						</citerefentry>.
					</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>
					<varname>DNS_SEARCH_DOMAINS</varname>=
				</term>

				<listitem>
					<para>
						This setting configures the search domains for DNS queries
						made by the local system.
					</para>
				</listitem>
			</varlistentry>

			<varlistentry>
				<term>
					<varname>DNS_RANDOMIZE</varname>=[true|<emphasis>false</emphasis>]
				</term>

				<listitem>
					<para>
						This option will break the DNS server ranks and will query
						them in a random order which is useful to load-balance
						multiple DNS servers.
					</para>
				</listitem>
			</varlistentry>
		</variablelist>
	</refsect1>

	<refsect1>
		<title>See Also</title>

		<para>
			<citerefentry>
				<refentrytitle>network</refentrytitle>
				<manvolnum>8</manvolnum>
			</citerefentry>,
			<citerefentry>
				<refentrytitle>network-settings</refentrytitle>
				<manvolnum>8</manvolnum>
			</citerefentry>
		</para>
	</refsect1>
</refentry>

# This contains the basic network configuration for all vpn-tests
include: ../include/make-install
include: ../include/alice-port-vars
include: ../include/bob-port-vars
all: network zone new upl0 bridge
all: network zone new upl1 bridge
all: network zone new net0 bridge
all: network zone new net1 bridge
all: network zone upl0 port attach ${p_net1}
all: network zone upl1 port attach ${p_net2}
# Attach dummy ports to all net*
all: network port new dummy
all: network port new dummy
all: network zone net0 port attach d0
all: network zone net1 port attach d1
# Bring everyting up
all: network zone upl0 up
all: network zone upl1 up
all: network zone net0 up
all: network zone net1 up
all: network status
# IP config
alice: network zone upl0 config new static 192.168.122.2/24
alice: network zone upl1 config new static 2001:470:6ef3:1::1/64
alice: network zone net0 config new static 192.168.200.1/24
alice: network zone net1 config new static 2001:470:6ef3::1/64
bob: network zone upl0 config new static 192.168.122.3/24
bob: network zone upl1 config new static 2001:470:6ef3:1::2/64
bob: network zone net0 config new static 192.168.201.1/24
bob: network zone net1 config new static 2001:470:6ef3:2::1/64
# Simple ping test
alice: ping -c 5 192.168.122.3
alice: ping6 -c 5 2001:470:6ef3:1::1
bob: ping -c 5 192.168.122.2
bob: ping6 -c 5 2001:470:6ef3:1::2
